	.ORIG x3000
	
REQUEST	AND R0,R0,#0
	AND R1,R1,#0
	AND R2,R2,#0
	AND R3,R3,#0
	AND R4,R4,#0
	AND R5,R5,#0
	AND R6,R6,#0
	LD R0,STRING1
	TRAP x22
	TRAP x20
	TRAP x21
	ADD R0,R0,-15
	ADD R0,R0,-15
	ADD R0,R0,-15
	ADD R0,R0,-3	
	ST R0,ID
	TRAP x20
	TRAP x21
	
	LD R0,ID
	ADD R0,R0,-15
	ADD R0,R0,-15
	ADD R0,R0,-15
	ADD R0,R0,-7
	BRz END
	
	LD R1,FRSTND	;R1=X3300
	LDR R1,R1,#0	;R1 IS THE LEFT CHILD'S ADDRESS 
CHECK	LDR R2,R1,#2	;R2=STUDENT ID 
	LD R0,ID	;REUESTED ID
	NOT R2,R2	
	ADD R2,R2,#1	
	ADD R2,R0,R2	
	BRz ZERO	;JUMP TO THE END OF THE LOOP, ID FOUND PRINT NAME
RIGHT	BRp POS		;GO TO THE RIGHT CHILD
LEFT	BRn NEG		; GO TO THE LEFT CHILD
	
POS	LDR R1,R1,#1	;R1=RIGHT CHILD'S VALUE
	BRz NE		;"NO ENTRY"
	BRnp CHECK

NEG	LDR R1,R1,#0	;R1=LEFT CHILD'S VALUE 
	BRz NE		;"NO ENTRY"
	BRnp CHECK

ZERO	LDR R0,R1,#3	;R2 HAS THE POINTERTO FIRST ASCII CHARACTER OF STUDENT'S NAME
	TRAP x22
	LD R0,STRING3
	TRAP x22
	BR REQUEST

NE	LD R0,STRING2
	TRAP x22
	BR REQUEST
	
END	HALT
STRING1	.FILL PROMPT
STRING2	.FILL NOENT
STRING3 .FILL ENTER
ID	.FILL x0000
FRSTND	.FILL x3300	
PROMPT	.STRINGZ "Type a student ID and press Enter:"
NOENT	.STRINGZ "No Entry\n"
ENTER	.STRINGZ "\n"
	.END
	